:root {
    --lang-btn-fallback-en: #012169; /* deep blue fallback for UK */
    --lang-btn-fallback-ro: #002B7F; /* blue fallback for Romania */
    --lang-btn-text-color: #000000; /* black text for legibility (defensive) */
    --lang-btn-border: rgba(0,0,0,0.08);
}

/* Keep lang button inline with contact-card */
.page-header .header-right {
    display: flex;
    gap: 0.6rem;
    align-items: center;
    justify-content: flex-end;
}

.page-header .header-actions {
    display: inline-flex;
    align-items: center;
}

/* Base button — fixed rectangular size so both flags render with the same dimensions */
.page-header .lang-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 64px;              /* fixed width */
    height: 40px;             /* fixed height */
    border-radius: 6px;
    border: 1px solid var(--lang-btn-border);
    color: var(--lang-btn-text-color);
    font-weight: 700;
    cursor: pointer;
    background-repeat: no-repeat;
    background-position: center;
    background-size: 100% 100%; /* force flag to fill entire button (same dimensions for both flags) */
    box-shadow: 0 1px 2px rgba(0,0,0,0.04);
    transition: transform 120ms ease, box-shadow 120ms ease, opacity 120ms ease;
    padding: 0; /* ensure no extra inner spacing */
}

/* Focus ring */
.page-header .lang-btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(0,120,212,0.14);
}

/* Hover */
.page-header .lang-btn:hover { transform: translateY(-1px); }

/*
  Inverted mapping still applies:
  - aria-pressed="false" -> show Romanian flag (button shows the language you'll switch to when current is EN)
  - aria-pressed="true"  -> show UK flag (button shows the language you'll switch to when current is RO)
*/

/* RO target (aria-pressed="false") — SVG vertical stripes (explicit SVG to match EN sizing) */
.page-header .lang-btn[aria-pressed="false"] {
    background-color: var(--lang-btn-fallback-ro);
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 20' preserveAspectRatio='none'><rect x='0' y='0' width='10' height='20' fill='%23002B7F'/><rect x='10' y='0' width='10' height='20' fill='%23FCD116'/><rect x='20' y='0' width='10' height='20' fill='%23CE1126'/></svg>");
    border-color: rgba(0,0,0,0.06);
}

/* EN target (aria-pressed="true") — Union Jack: draw white elements first, then red overlays for correct layering */
.page-header .lang-btn[aria-pressed="true"] {
    background-color: var(--lang-btn-fallback-en);
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 60' preserveAspectRatio='none'>\
<rect width='120' height='60' fill='%23012169'/>\
<!-- White base crosses: vertical + horizontal + broad diagonals -->\
<rect x='50' width='20' height='60' fill='%23ffffff'/>\
<rect y='20' width='120' height='20' fill='%23ffffff'/>\
<polygon fill='%23ffffff' points='0,0 20,0 120,48 120,60 100,60 0,12'/>\
<polygon fill='%23ffffff' points='120,0 100,0 0,48 0,60 20,60 120,12'/>\
<!-- Red overlays: thin centered vertical/horizontal and narrow diagonal stripes -->\
<rect x='54' width='12' height='60' fill='%23C8102E'/>\
<rect y='26' width='120' height='8' fill='%23C8102E'/>\
<polygon fill='%23C8102E' points='0,0 8,0 120,50 120,60 112,60 0,10'/>\
<polygon fill='%23C8102E' points='120,0 112,0 0,50 0,60 8,60 120,10'/>\
</svg>");
    border-color: rgba(0,0,0,0.06);
}

/* When JS hasn't run and attribute missing, show Romanian (assume EN default) */
.page-header .lang-btn:not([aria-pressed]) {
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 20' preserveAspectRatio='none'><rect x='0' y='0' width='10' height='20' fill='%23002B7F'/><rect x='10' y='0' width='10' height='20' fill='%23FCD116'/><rect x='20' y='0' width='10' height='20' fill='%23CE1126'/></svg>");
    background-size: 100% 100%;
}

/* Small screens: reduce size but keep same aspect */
@media (max-width: 480px) {
    .page-header .lang-btn { width: 48px; height: 30px; }
}
