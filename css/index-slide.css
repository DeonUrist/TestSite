/* Layout adjusted so slideshow sits in document flow (below the company description) */

/* Adjustable image width stuck to the left of the card */
:root {
    --slide-image-width: 320px; /* change this to make the image wider/narrower */
}

/* Put slideshow in the normal flow instead of covering the viewport */
.slideshow-root {
    position: relative; /* remains in-flow */
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    padding: 16px 0; /* reduced vertical spacing so slideshow is closer to description */
}

/* The centered card area — stack card then indicators vertically */
.slideshow-viewport {
    pointer-events: auto;
    z-index: 10;
    display: flex;
    flex-direction: column; /* stack children vertically */
    align-items: center; /* center card and indicators horizontally */
    justify-content: center;
    padding: 16px; /* reduced internal padding */
    position: relative;
    width: 100%;
    max-width: 960px; /* constrain width so it doesn't span the full viewport */
    margin: 0 auto;
    box-sizing: border-box;
}

/* Card visuals
   Add extra left padding so the card content does not sit under the absolute-positioned image */
.slideshow-card {
    box-sizing: border-box;
    width: 100vw;
    min-width: 0;
    min-height: 360px; /* slightly reduced height to tighten vertical layout */
    background: var(--slideshow-bg);
    border-radius: 8px;
    box-shadow: var(--slideshow-shadow);
    /* keep top/right/bottom padding, push content to the right by image width + gap */
    padding: 24px 28px 24px calc(var(--slide-image-width) + 28px);
    text-align: center;
    font-size: 1.15rem;
    color: var(--slide-text-color);
    user-select: none;
    position: relative; /* establishes containing block for absolute .slide-left */
    overflow: hidden; /* keep image clipped to the card's rounded corners */
}

/* Indicators now flow directly under the card */
.slideshow-indicators {
    position: static; /* normal flow under the card */
    margin-top: 12px; /* reduced spacing */
    display: flex;
    align-items: center;
    gap: 10px;
    pointer-events: auto;
}

/* Indicator buttons (wraps each dot) */
.indicator {
    background: transparent;
    border: none;
    padding: 6px;
    margin: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
}

/* Circle (dot) */
.dot {
    width: var(--dot-size);
    height: var(--dot-size);
    border-radius: 50%;
    box-sizing: border-box;
    display: inline-block;
    transition: background 220ms ease, border-color 220ms ease, transform 220ms ease;
    border: 2px solid var(--dot-empty-border);
    background: transparent;
}

/* Active (filled) dot */
.dot.active {
    background: var(--dot-color);
    border-color: var(--dot-color);
    transform: scale(1.05);
}

/* The small connecting lines between dots */
.line {
    width: 40px;
    height: 2px;
    background: var(--line-color);
    border-radius: 2px;
    margin: 0 4px;
}

/* Small screens: reduce sizes */
@media (max-width: 420px) {
    .slideshow-card {
        margin: 0 16px;
        /* reduce left push on tiny screens */
        padding: 20px 20px 20px calc(var(--slide-image-width) + 28px);
        font-size: 1rem;
    }

    .line {
        width: 28px;
    }
}

/* slide content helpers */
.slide-figure,
.slide-grid,
.slide-hero {
    width: 100%;
    box-sizing: border-box;
}

.slide-grid {
    display: flex;
    gap: 24px;
    align-items: stretch;
    width: 100%;
    height: auto;
    border-radius: 4px;
}

/* When image is placed inside the card we still keep the right column for card content. */
.slide-left,
.slide-right {
    flex: 1 1 50%;
}

/* Make the left column clip its contents so image rounding is visible
   Position the image ABSOLUTE inside the card so it's physically inside the card
   and flush to the card's left edge (not fixed to the viewport). */
.slide-left {
    position: absolute;
    left: 0;
    top: 24px;                /* align inside card padding */
    bottom: 24px;             /* align inside card padding */
    width: var(--slide-image-width);
    overflow: hidden;         /* ensure image corners are clipped */
    z-index: 6;               /* sits above card background but below interactive overlays */
    pointer-events: none;     /* image should not intercept clicks */
    display: block;
}

/* Apply heavy rounding only to the RIGHT side of the left image (left remains rectangular)
   Using very large radius (9999px) makes the right side appear as a semicircle/pill */
.slide-left img,
.slide-left .slide-image-bg,
.slide-left .slide-figure {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 0 9999px 9999px 0; /* right side very rounded (circular), left side rectangular */
    pointer-events: none;
}

/* For the content on the right column */
.slide-right {
    padding: 8px 12px;
    text-align: left;
}

.slide-title {
    margin: 0 0 8px 0;
    font-size: 1.6rem;
    color: var(--slide-title-color);
}

.slide-text {
    margin: 0 0 12px 0;
    font-size: 1rem;
    color: var(--slide-text-color);
}

.slide-list,
.slide-figure figcaption,
.slide-right p,
.slide-right li {
    color: var(--slide-text-color);
}

.slide-hero {
    position: relative;
    min-height: 320px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

.slide-image-bg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.65);
}

.slide-hero-content {
    position: relative;
    z-index: 2;
    color: var(--hero-text-color);
    text-align: center;
    padding: 20px;
}

.slide-cta {
    display: inline-block;
    padding: 8px 14px;
    background: var(--cta-bg);
    color: var(--cta-text-color);
    text-decoration: none;
    border-radius: 18px;
}

/* Responsive: stacked layout on narrow screens — restore normal flow so image sits above content
   and remove absolute positioning so it doesn't block the UI on small viewports. */
@media (max-width: 900px) {
    .slide-grid {
        flex-direction: column;
    }

    .slide-right {
        text-align: center;
    }

    .slide-title {
        font-size: 1.25rem;
    }

    /* stacked layout: undo absolute positioning and use normal corner rounding */
    .slide-left {
        position: static;
        left: auto;
        top: auto;
        bottom: auto;
        transform: none;
        width: 100%;
        max-height: none;
        pointer-events: auto;
    }

    .slide-left,
    .slide-left img,
    .slide-left .slide-image-bg,
    .slide-left .slide-figure {
        border-radius: 8px 8px 0 0;
        overflow: visible;
    }

    /* restore original card padding on narrow screens */
    .slideshow-card {
        padding: 24px 28px;
        overflow: visible;
    }
}
